{"ast":null,"code":"import _defineProperty from \"/Users/seonghunshin/Documents/react-practice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/seonghunshin/Documents/react-practice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n\nvar _handleActions;\n\nimport { createAction, handleActions } from 'redux-actions';\nimport axios from 'axios';\nimport produce from 'immer';\n\nfunction getPostAPI(num) {\n  return axios.get(\"https://jsonplaceholder.typicode.com/posts/\".concat(num));\n}\n\nvar GET_POST_PENDING = 'post/GET_POST_PENDING';\nvar GET_POST_SUCCESS = 'post/GET_POST_SUCCESS';\nvar GET_POST_FAILURE = 'post/GET_POST_FAILURE';\n\nvar getPostPending = function getPostPending() {\n  return {\n    type: GET_POST_PENDING\n  };\n};\n\nvar getPostSuccess = function getPostSuccess(text) {\n  return {\n    type: GET_POST_SUCCESS,\n    payload: text\n  };\n};\n\nvar getPostFailure = function getPostFailure() {\n  return {\n    type: GET_POST_FAILURE\n  };\n};\n\nexport var getPost = function getPost(num) {\n  dispatch(getPostPending());\n  return getPostAPI(num).then(function (text) {\n    dispatch(getPostSuccess(text));\n    return text;\n  }).catch(function (err) {\n    dispatch(getPostFailure());\n  });\n};\nvar initialState = {\n  pending: false,\n  error: false,\n  data: {\n    title: '',\n    body: ''\n  }\n};\nexport default handleActions((_handleActions = {}, _defineProperty(_handleActions, GET_POST_PENDING, function (state, action) {\n  return produce(state, function (draft) {\n    return draft.pending = true;\n  });\n}), _defineProperty(_handleActions, GET_POST_SUCCESS, function (state, action) {\n  var _action$payload$data = action.payload.data,\n      title = _action$payload$data.title,\n      body = _action$payload$data.body;\n  var nextState = produce(state, function (draft) {\n    return console.log(action.payload.data);\n  });\n  return _objectSpread({}, state, {\n    pending: false,\n    data: {\n      title: title,\n      body: body\n    }\n  });\n}), _defineProperty(_handleActions, GET_POST_FAILURE, function (state, action) {\n  return _objectSpread({}, state, {\n    pending: false,\n    error: true\n  });\n}), _handleActions), initialState);","map":{"version":3,"sources":["/Users/seonghunshin/Documents/react-practice/src/store/modules/post.js"],"names":["createAction","handleActions","axios","produce","getPostAPI","num","get","GET_POST_PENDING","GET_POST_SUCCESS","GET_POST_FAILURE","getPostPending","type","getPostSuccess","text","payload","getPostFailure","getPost","dispatch","then","catch","err","initialState","pending","error","data","title","body","state","action","draft","nextState","console","log"],"mappings":";;;;;AAAA,SAAQA,YAAR,EAAsBC,aAAtB,QAA0C,eAA1C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,OAApB;;AAEA,SAASC,UAAT,CAAqBC,GAArB,EAA0B;AACtB,SAAOH,KAAK,CAACI,GAAN,sDAAwDD,GAAxD,EAAP;AACH;;AAED,IAAME,gBAAgB,GAAG,uBAAzB;AACA,IAAMC,gBAAgB,GAAG,uBAAzB;AACA,IAAMC,gBAAgB,GAAG,uBAAzB;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB;AAAA,SAAO;AAACC,IAAAA,IAAI,EAAEJ;AAAP,GAAP;AAAA,CAAvB;;AACA,IAAMK,cAAc,GAAG,SAAjBA,cAAiB,CAACC,IAAD;AAAA,SAAW;AAACF,IAAAA,IAAI,EAAEH,gBAAP;AAAyBM,IAAAA,OAAO,EAAED;AAAlC,GAAX;AAAA,CAAvB;;AACA,IAAME,cAAc,GAAG,SAAjBA,cAAiB;AAAA,SAAO;AAACJ,IAAAA,IAAI,EAAEF;AAAP,GAAP;AAAA,CAAvB;;AAEA,OAAO,IAAMO,OAAO,GAAG,SAAVA,OAAU,CAACX,GAAD,EAAS;AAC5BY,EAAAA,QAAQ,CAACP,cAAc,EAAf,CAAR;AACA,SAAON,UAAU,CAACC,GAAD,CAAV,CACNa,IADM,CACD,UAAAL,IAAI,EAAI;AACRI,IAAAA,QAAQ,CAACL,cAAc,CAACC,IAAD,CAAf,CAAR;AACA,WAAOA,IAAP;AACL,GAJM,EAKNM,KALM,CAKA,UAAAC,GAAG,EAAI;AACVH,IAAAA,QAAQ,CAACF,cAAc,EAAf,CAAR;AACH,GAPM,CAAP;AAQH,CAVM;AAYP,IAAMM,YAAY,GAAG;AACjBC,EAAAA,OAAO,EAAE,KADQ;AAEjBC,EAAAA,KAAK,EAAE,KAFU;AAGjBC,EAAAA,IAAI,EAAE;AACFC,IAAAA,KAAK,EAAE,EADL;AAEFC,IAAAA,IAAI,EAAE;AAFJ;AAHW,CAArB;AASA,eAAezB,aAAa,uDACvBM,gBADuB,EACJ,UAACoB,KAAD,EAAQC,MAAR;AAAA,SAChBzB,OAAO,CAACwB,KAAD,EAAQ,UAAAE,KAAK;AAAA,WAChBA,KAAK,CAACP,OAAN,GAAgB,IADA;AAAA,GAAb,CADS;AAAA,CADI,mCAMvBd,gBANuB,EAMJ,UAACmB,KAAD,EAAQC,MAAR,EAAmB;AAAA,6BACXA,MAAM,CAACd,OAAP,CAAeU,IADJ;AAAA,MAC3BC,KAD2B,wBAC3BA,KAD2B;AAAA,MACpBC,IADoB,wBACpBA,IADoB;AAEnC,MAAMI,SAAS,GAAG3B,OAAO,CAACwB,KAAD,EAAQ,UAAAE,KAAK;AAAA,WACtCE,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACd,OAAP,CAAeU,IAA3B,CADsC;AAAA,GAAb,CAAzB;AAEA,2BACOG,KADP;AAEIL,IAAAA,OAAO,EAAE,KAFb;AAGIE,IAAAA,IAAI,EAAE;AACFC,MAAAA,KAAK,EAALA,KADE;AACKC,MAAAA,IAAI,EAAJA;AADL;AAHV;AAOH,CAjBuB,mCAyBvBjB,gBAzBuB,EAyBJ,UAACkB,KAAD,EAAQC,MAAR,EAAmB;AACnC,2BACOD,KADP;AAEIL,IAAAA,OAAO,EAAE,KAFb;AAGIC,IAAAA,KAAK,EAAE;AAHX;AAKH,CA/BuB,oBAgCzBF,YAhCyB,CAA5B","sourcesContent":["import {createAction, handleActions} from 'redux-actions';\nimport axios from 'axios';\nimport produce from 'immer';\n\nfunction getPostAPI (num) {\n    return axios.get(`https://jsonplaceholder.typicode.com/posts/${num}`)\n}\n\nconst GET_POST_PENDING = 'post/GET_POST_PENDING'\nconst GET_POST_SUCCESS = 'post/GET_POST_SUCCESS'\nconst GET_POST_FAILURE = 'post/GET_POST_FAILURE'\n\nconst getPostPending = () => ({type: GET_POST_PENDING})\nconst getPostSuccess = (text) => ({type: GET_POST_SUCCESS, payload: text})\nconst getPostFailure = () => ({type: GET_POST_FAILURE})\n\nexport const getPost = (num) => {\n    dispatch(getPostPending())\n    return getPostAPI(num)\n    .then(text => {\n          dispatch(getPostSuccess(text))\n          return text\n    })\n    .catch(err => {\n        dispatch(getPostFailure())\n    })\n}\n\nconst initialState = {\n    pending: false,\n    error: false,\n    data: {\n        title: '',\n        body: ''\n    }\n}\n\nexport default handleActions({\n    [GET_POST_PENDING]: (state, action) =>\n        produce(state, draft =>\n            draft.pending = true\n        )\n    ,\n    [GET_POST_SUCCESS]: (state, action) => {\n        const { title, body } = action.payload.data;\n        const nextState = produce(state, draft =>\n        console.log(action.payload.data))\n        return {\n            ...state,\n            pending: false,\n            data: {\n                title, body\n            }\n        };\n    },\n    // [GET_POST_SUCCESS]: (state, action) =>\n    //     produce((state, draft) => {\n    //         draft.pending = false\n    //         draft.data.title = action.payload.data.title\n    //         draft.data.body = action.payload.data.body\n    //     })\n    // ,\n    [GET_POST_FAILURE]: (state, action) => {\n        return {\n            ...state,\n            pending: false,\n            error: true\n        }\n    }\n}, initialState);\n"]},"metadata":{},"sourceType":"module"}